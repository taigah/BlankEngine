"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _get=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,r,n)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(n)},_createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();!function e(t,r,n){function i(a,o){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,r){var n={Game:t("./src/game"),State:t("./src/state"),Entity:t("./src/entity")};if(e&&(e.exports=n),window){window.BlankEngine=n;for(var i in n)window[i]=n[i]}},{"./src/entity":2,"./src/game":3,"./src/state":4}],2:[function(t,e,r){var n=function(){function e(){_classCallCheck(this,e),this.children={},this.entities={},this.childrenIncrement=0,this.entitiesIncrement=0;for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];this.params=r}return _createClass(e,[{key:"update",value:function(t){for(var e in this.children)this.children[e].update(t)}},{key:"add",value:function(r,n){if(!(r instanceof e))return n=n||++this.entitiesIncrement,this.stage.addChild(r),void(this.entities[n]=r);if(r.id=n||++this.childrenIncrement,void 0!==this.children[r.id])throw new Error("Id already taken");r.game=this.game,r.mousepos=this.mousepos,r.stage=this.stage,r.parent=this,(this.state&&!this.state.prototype instanceof t("./state")||this instanceof t("./state"))&&(r.state=this.state||this),r.create.apply(r,_toConsumableArray(r.params)),this.children[r.id]=r}},{key:"destroy",value:function(){for(var t in this.children)this.children[t].destroy();for(var e in this.entities)this.stage.removeChild(this.entities[e]);delete this.parent.children[this.id]}},{key:"getChild",value:function(t){return this.children[t]}},{key:"getEntity",value:function(t){return this.entities[t]}}]),e}();e.exports=n},{"./state":4}],3:[function(t,e,r){var n=t("./entity"),i=function(t){function e(t,r,n,i){_classCallCheck(this,e);var s=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this));return s.stage=new createjs.Stage(t),s.stage.width=r,s.stage.height=n,s.game=s,createjs.Ticker.setFPS(60),createjs.Ticker.addEventListener("tick",s.stage),createjs.Ticker.addEventListener("tick",function(t){return s.update(t)}),s.stage.on("stagemousemove",function(t){s.mousepos.x=t.stageX,s.mousepos.y=t.stageY}),s.mousepos={x:s.stage.width/2,y:s.stage.height/2},s.state=null,s.substate=null,s.switchState(i),s}return _inherits(e,t),_createClass(e,[{key:"update",value:function(t){_get(Object.getPrototypeOf(e.prototype),"update",this).call(this,t)}},{key:"addState",value:function(t){this.state=t;for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;e>n;n++)r[n-1]=arguments[n];this.add(new(Function.prototype.bind.apply(this.state,[null].concat(r))),"state")}},{key:"destroyState",value:function(){null!==this.state&&this.getChild("state").destroy()}},{key:"switchState",value:function(t){console.log(t),this.destroyState();for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;e>n;n++)r[n-1]=arguments[n];this.addState.apply(this,[t].concat(r))}},{key:"resetState",value:function(){this.destroyState(),this.addState(this.state)}},{key:"destroy",value:function(){_get(Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}(n);e.exports=i},{"./entity":2}],4:[function(t,e,r){var n=t("./entity"),i=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(n);e.exports=i},{"./entity":2}]},{},[1]);